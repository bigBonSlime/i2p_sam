cmake_minimum_required(VERSION 3.16)
set (CMAKE_CXX_STANDARD 17)
project(i2pSam CXX)

find_package(Boost)
include_directories(${Boost_INCLUDE_DIR})
add_executable(${PROJECT_NAME} "../i2p_sam/main.cpp" "../i2p_sam/i2p_sam.h" "../i2p_sam/i2p_sam.cpp" "../i2p_sam/sam_error.h" "../i2p_sam/sam_error.cpp" "../i2p_sam/base64.h" "../i2p_sam/base64.cpp")
if (CMAKE_CXX_COMPILER_ID STREQUAL "Clang")
message("Build with Clang")
target_link_libraries(${PROJECT_NAME} boost::boost)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall -Wextra -Werror")
elseif(CMAKE_CXX_COMPILER_ID STREQUAL "MSVC")
message("Build with MSVC")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /W4 /WX")
else()
message([FATAL_ERROR] "Compiler not supported")
endif()
